
<!DOCTYPE html>
<html>
<body>

<h1>Headlines</h1>



<button type="button" onclick="loadDoc()">See Full Article</button>

<p id="demo"></p>


<script>
function loadDoc() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    // if (this.readyState == 4 && this.status == 200) {
      //var stuff = this.responseText
      var myObj = JSON.parse(this.responseText);
    //  console.log(myObj.response.results[0].webTitle)
      var array = myObj.response.results
      console.log(array)
      //array.map(item => item.webTitle)
      var newArray = []


      array.forEach(hash =>
        newArray.push('<a href=" ' + hash.apiUrl + '?api-key=fd20389a-3579-469a-89c4-6d1f42095624' + '">' + hash.webTitle + '</a>')
      )


        console.log(newArray)

      document.getElementById("demo").innerHTML = newArray.join("<p>");
      console.log(array.map(item => item.webTitle))

      //document.getElementById("demo").innerHTML = myObj.response.results[0].webTitle;

  };
  xhttp.open("GET", "https://content.guardianapis.com/search?from-date=2018-10-21&api-key=fd20389a-3579-469a-89c4-6d1f42095624", true);


 //curl "http://news-summary-api.herokuapp.com/guardian?apiRequestUrl=http://content.guardianapis.com/politics/blog/2014/feb/17/alex-salmond-speech-first-minister-scottish-independence-eu-currency-live?show-fields=body"
              //     https://www.theguardian.com/science/2018/oct/20/dark-matter-day-scientists-hunt-ghost-particle
            //       curl "http://content.guardianapis.com/politics/blog/2014/feb/17/alex-salmond-speech-first-minister-scottish-independence-eu-currency-live?show-fields=body&api-key=SECRET_API_KEY"
            //  curl "http://news-summary-api.herokuapp.com/guardian?apiRequestUrl=http://content.guardianapis.com/politics/blog/2014/feb/17/alex-salmond-speech-first-minister-scottish-independence-eu-currency-live?show-fields=body"
  xhttp.send();
}
</script>

</body>
</html>

<!-- http://news-summary-api.herokuapp.com/guardian?apiRequestUrl=https://content.guardianapis.com/search?use-date=published&from-date=2018-10-20=body -->









<!--
<body>

  <script>

  var xhttp = new XMLHttpRequest();

  xhttp.open("GET", "ajax_info.txt", true);
  xhttp.send();

  </script>

</body> -->
